<!--
  Modern Scroll – "Ruin Triangles" (PROFESSIONAL, NO ANIMATED BACKGROUND)
  Purpose: Artsy layout with triangle ruins, central panel, and a clean whimsical menu.
           Background uses a ROTATING SET OF STATIC IMAGES (cross‑fade only when swapping)
           — no constant animated mist. Everything is tuned for smoothness.

  WHAT CHANGED (non-optional based on your request):
  ✓ Removed animated gradient/video backgrounds entirely.
  ✓ Background is now a controllable image rotator (cross‑fades quickly, then stays still).
  ✓ Ruin hover effects are transform/opacity only (instant).
  ✓ Menu is a soft, rounded panel with gold borders and smooth open/close.
  ✓ Transitions use opacity + slight scale only.

  REQUIRED ACTION (images):
  1) Put background images in /bg/ and list them in BG_IMAGES below.
     - Use 1920×1200 (or 1920×1080) JPG/WebP, ≤ 300–400 KB each.
     - Name them bg-01.jpg, bg-02.jpg, ...
  2) Update the array BG_IMAGES if filenames differ.

  Rotation behavior:
  - On load we show the first image immediately.
  - Every 15s we cross‑fade to the next image (500ms), then sit still. This is very light.
  - If you truly want zero rotation, set ROTATE=false below.
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modern Scroll – Ruins + Scroll Panel</title>
  <style>
    /* =====================================
       0) BRAND + TUNING KNOBS
       ===================================== */
    :root{
      --paper: #f5f2e8;          /* parchment */
      --turquoise: #009ca6;      /* accent */
      --gold: #c9a646;           /* ruins + borders */
      --ink: rgba(20,18,16,.92);
      --maxw: 980px;

      --transition-ms: 720ms;    /* section transition length */
      --transition-ease: cubic-bezier(.2,.7,.2,1);
      --ruin-size: 54px;         /* triangle size */
      --ruin-gap: 12px;          /* ruin spacing */
      --menu-radius: 22px;       /* soft menu corners */
    }

    html,body{height:100%;}
    body{ margin:0; background:var(--paper); color:var(--ink); font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif; }
    .page{ position:relative; min-height:100dvh; overflow:hidden; }

    /* =====================================
       1) BACKGROUND – ROTATING STATIC IMAGES
       - Each image is absolutely positioned and covers the viewport.
       - We fade between them for 500ms, then no motion.
       ===================================== */
    .bg{ position:absolute; inset:0; z-index:0; pointer-events:none; background: var(--paper); }
    .bg img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition: opacity .5s ease; }
    .bg img.is-active{ opacity:1; }

    /* =====================================
       2) CENTRAL CONTENT PANEL (framed scroll)
       ===================================== */
    .content{ position:relative; z-index:1; display:grid; place-items:center; padding: min(6vw, 48px); }
    .panel{ width:min(92vw, var(--maxw)); min-height: clamp(420px, 70vh, 780px); box-sizing:border-box;
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.90));
      border: 1px solid color-mix(in oklab, var(--gold) 55%, black 8%);
      outline: 14px solid rgba(255,255,255,.18);
      box-shadow: 0 40px 120px rgba(0,0,0,.10);
      padding: clamp(18px, 3.6vw, 36px);
      will-change: transform, opacity;
    }

    h1,h2{ margin:0 0 .6em; font-weight:800; letter-spacing:.01em; }
    h1{ font-size: clamp(28px, 5.2vw, 50px); color: color-mix(in oklab, var(--ink) 92%, black 8%);} 
    h2{ font-size: clamp(18px, 3vw, 28px); color: color-mix(in oklab, var(--ink) 86%, black 14%);} 
    p{ font-size: clamp(15px, 2.2vw, 18px); max-width: 72ch; }

    section{ display:none; }
    section.is-current{ display:block; }

    /* =====================================
       3) RUINS – triangular buttons (top & bottom rails)
       - Pure CSS triangles + soft turquoise aura on hover/focus.
       ===================================== */
    .ruin-rail{ position:fixed; left:50%; transform:translateX(-50%); z-index:2; display:flex; gap:var(--ruin-gap); }
    .ruin-rail.top{ top:12px; }
    .ruin-rail.bottom{ bottom:16px; }

    .ruin{ width:var(--ruin-size); height:var(--ruin-size); background:none; border:none; padding:0; cursor:pointer; position:relative; will-change:transform; }
    .ruin:active{ transform: translateY(1px); }

    .ruin .tri{ width:0; height:0; border-left: calc(var(--ruin-size)/2) solid transparent; border-right: calc(var(--ruin-size)/2) solid transparent; border-bottom: var(--ruin-size) solid color-mix(in oklab, var(--gold) 92%, white 8%); }
    .ruin::after{ content:""; position:absolute; inset:6px; border-radius:999px; background: radial-gradient(60% 60% at 50% 50%, color-mix(in oklab, var(--turquoise) 72%, transparent), transparent 70%); opacity:0; transform:scale(.92); transition: opacity .18s ease, transform .18s ease; pointer-events:none; }
    .ruin:hover::after, .ruin:focus-visible::after{ opacity:.42; transform:scale(1); }

    /* =====================================
       4) MENU – whimsical/modern, soft edges
       - Opens from a pill button. Clean border, subtle shadow.
       ===================================== */
    .menu-toggle{ position:fixed; right:14px; top:14px; z-index:3; background:#ffffffbf; border:1px solid #00000020; backdrop-filter: blur(8px); border-radius:999px; padding:10px 14px; font:600 14px/1 system-ui,sans-serif; cursor:pointer; }
    .menu-panel{ position:fixed; right:14px; top:58px; z-index:3; width:min(92vw, 340px); background:#fffffff2; border:1px solid color-mix(in oklab, var(--gold) 55%, black 8%); border-radius: var(--menu-radius); box-shadow: 0 30px 80px rgba(0,0,0,.15); padding:16px; opacity:0; transform: translateY(-6px) scale(.98); pointer-events:none; transition: opacity .2s ease, transform .2s ease; }
    .menu-panel.is-open{ opacity:1; transform: translateY(0) scale(1); pointer-events:auto; }
    .menu-title{ font-weight:800; letter-spacing:.02em; margin:4px 0 10px; color: color-mix(in oklab, var(--ink) 90%, black 10%); }
    .menu-list{ list-style:none; margin:0; padding:0; display:grid; gap:10px; }
    .menu-link{ display:flex; align-items:center; gap:10px; padding:12px 12px; border-radius: 16px; border:1px solid #00000010; text-decoration:none; color: var(--ink); background:#ffffff; transition: transform .16s ease, box-shadow .16s ease; }
    .menu-link:hover{ transform: translateY(-1px); box-shadow: 0 10px 24px rgba(0,0,0,.08); }
    .menu-glyph{ width:20px; height:20px; border-radius:6px; background: radial-gradient(120% 160% at 30% 20%, color-mix(in oklab, var(--gold) 65%, white 35%), color-mix(in oklab, var(--gold) 95%, black 5%)); }

    /* =====================================
       5) TRANSITIONS (section swap)
       ===================================== */
    .disperse{ animation: disperse var(--transition-ms) var(--transition-ease) both; }
    .condense{ animation: condense var(--transition-ms) var(--transition-ease) both; }
    @keyframes disperse{ 0%{ opacity:1; transform:translateY(0) scale(1);} 60%{ opacity:0; transform:translateY(8px) scale(1.02);} 100%{ opacity:0; transform:translateY(10px) scale(1.024);} }
    @keyframes condense{ 0%{ opacity:0; transform:translateY(10px) scale(1.024);} 40%{ opacity:.6; transform:translateY(2px) scale(1.01);} 100%{ opacity:1; transform:translateY(0) scale(1);} }

    /* =====================================
       6) REDUCE MOTION SUPPORT
       ===================================== */
    @media (prefers-reduced-motion: reduce){ .bg img{ transition:none; } .disperse,.condense{ animation-duration:0ms; } }
    .reduce-motion .bg img{ transition:none !important; }
    .reduce-motion .disperse,.reduce-motion .condense{ animation-duration:0ms !important; }
  </style>
</head>
<body>
  <div class="page" id="page">
    <!-- BACKGROUND LAYER (rotating images). Replace filenames in JS below if needed. -->
    <div class="bg" id="bg" aria-hidden="true">
      <!-- Images will be inserted by JS so we can preload & tag active. -->
    </div>

    <!-- RUINS TOP -->
    <nav class="ruin-rail top" aria-label="Primary navigation (top)">
      <button class="ruin" data-target="home" aria-label="Home"><div class="tri"></div></button>
      <button class="ruin" data-target="gallery" aria-label="Gallery"><div class="tri"></div></button>
      <button class="ruin" data-target="about" aria-label="About"><div class="tri"></div></button>
    </nav>

    <!-- RUINS BOTTOM -->
    <nav class="ruin-rail bottom" aria-label="Secondary navigation (bottom)">
      <button class="ruin" data-target="home" aria-label="Home (bottom)"><div class="tri"></div></button>
      <button class="ruin" data-target="gallery" aria-label="Gallery (bottom)"><div class="tri"></div></button>
      <button class="ruin" data-target="about" aria-label="About (bottom)"><div class="tri"></div></button>
    </nav>

    <!-- MENU (clean, whimsical) -->
    <button id="menuToggle" class="menu-toggle" aria-expanded="false" aria-controls="menuPanel">Menu</button>
    <aside id="menuPanel" class="menu-panel" role="dialog" aria-modal="false" aria-labelledby="menuTitle">
      <div class="menu-title" id="menuTitle">Navigate</div>
      <ul class="menu-list">
        <li><a href="#home" class="menu-link" data-target="home"><span class="menu-glyph"></span>Home</a></li>
        <li><a href="#gallery" class="menu-link" data-target="gallery"><span class="menu-glyph"></span>Gallery</a></li>
        <li><a href="#about" class="menu-link" data-target="about"><span class="menu-glyph"></span>About</a></li>
      </ul>
    </aside>

    <!-- CONTENT PANEL -->
    <div class="content">
      <div class="panel" id="panel">
        <main id="main" aria-live="polite">
          <section id="home" class="is-current">
            <h1>Modern Scroll</h1>
            <p>
              Triangle ruins act as navigation; the center panel is your canvas. The background is a rotating set of static images (no constant animation) that you control.
              Use the <strong>Menu</strong> button for a soft, modern panel with labeled links.
            </p>
          </section>
          <section id="gallery">
            <h2>Gallery</h2>
            <p>Drop images into <code>/images/</code>, keep each ≤ 300 KB. We can add a mist‑style carousel later if you want — for now we keep it clean and fast.</p>
          </section>
          <section id="about">
            <h2>About</h2>
            <p>This build removes heavy filters/animations entirely. All motion uses opacity/transform for professional smoothness.</p>
          </section>
        </main>
      </div>
    </div>
  </div>

  <script>
    // =====================================
    // 7) BACKGROUND ROTATION (no constant animation)
    // =====================================
    const BG_IMAGES = [
      '/bg/bg-01.jpg', // 1920×1200 or 1920×1080, ≤ 400 KB
      '/bg/bg-02.jpg',
      '/bg/bg-03.jpg'
    ];
    const ROTATE = true;          // set to false if you want a single static image
    const SWAP_MS = 15000;        // 15s between swaps
    const FADE_MS = 500;          // cross-fade length

    const bg = document.getElementById('bg');
    let bgIndex = 0; let bgImgs = [];

    function preload(src){ const img = new Image(); img.src = src; return img; }
    function showBg(i){ bgImgs.forEach((el,idx)=> el.classList.toggle('is-active', idx===i)); }

    // Build DOM images once
    BG_IMAGES.forEach((src, i)=>{ const el = document.createElement('img'); el.alt = ''; el.decoding = 'async'; el.loading = i? 'lazy':'eager'; el.src = src; if(i===0) el.classList.add('is-active'); bg.appendChild(el); bgImgs.push(el); preload(src); });

    if(ROTATE && BG_IMAGES.length > 1){ setInterval(()=>{ bgIndex = (bgIndex+1)%BG_IMAGES.length; showBg(bgIndex); }, SWAP_MS); }

    // =====================================
    // 8) MENU TOGGLE (soft open/close)
    // =====================================
    const menuToggle = document.getElementById('menuToggle');
    const menuPanel  = document.getElementById('menuPanel');
    function toggleMenu(force){ const open = force ?? !menuPanel.classList.contains('is-open'); menuPanel.classList.toggle('is-open', open); menuToggle.setAttribute('aria-expanded', String(open)); }
    menuToggle.addEventListener('click', ()=> toggleMenu());
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') toggleMenu(false); });

    // Close when clicking a menu link (and navigate)
    document.querySelectorAll('.menu-link').forEach(a=> a.addEventListener('click', (e)=>{ e.preventDefault(); goTo(a.dataset.target); toggleMenu(false); }));

    // =====================================
    // 9) SECTION SWITCHING (ruins + menu links)
    // =====================================
    const panel = document.getElementById('panel');
    const sections = Array.from(document.querySelectorAll('main > section'));
    const current = () => sections.find(s => s.classList.contains('is-current'));

    function goTo(id){
      const from = current();
      const to = document.getElementById(id);
      if(!to || to===from) return;
      from.classList.remove('is-current'); from.classList.add('disperse');
      const dur = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--transition-ms'));
      setTimeout(()=>{ from.classList.remove('disperse'); to.classList.add('is-current','condense'); setTimeout(()=> to.classList.remove('condense'), 360); }, dur);
    }

    document.querySelectorAll('.ruin').forEach(btn=>{
      btn.addEventListener('click', ()=> goTo(btn.dataset.target));
      btn.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); goTo(btn.dataset.target); }});
    });
  </script>
</body>
</html>

